<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>All Investments</title>

    <!--<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">-->
    <!--<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>-->

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>


    <!--<link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css"/>-->
    <!--<script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>-->
    <!--<script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>-->

    <script type="text/javascript" th:src="@{/js/all-investments.js}"></script>
    <link rel="stylesheet" type="text/css" href="/css/all_investments.css">

</head>
<body>

<nav class="nav affix">
    <div class="container">
        <div class="logo">
            <a href="#"><img th:src="@{/images/house-icon.png}" style="height:50px; width:50px" alt="house"/></a>
        </div>
        <div id="mainListDiv" class="main_list">
            <ul class="navlinks">
                <li><a href="#">About</a></li>
                <li><a href="#">Portfolio</a></li>
                <li><a href="#">Contact</a></li>
                <li><a th:href="@{/logout}">Log Out</a></li>
            </ul>
        </div>
        <span class="navTrigger">
                <i></i>
                <i></i>
                <i></i>
            </span>
    </div>
</nav>

<section class="home">
</section>
<div class="welcome-header">
    Welcome <b>[[${#request.userPrincipal.principal.fullName}]]</b>

    <a th:href="@{/AddInvestment}" class="btn btn-primary btn-lg float-right">Add Investment</a>
</div>

<!--<div style="height: 1000px">-->
    <!--&lt;!&ndash; just to make scrolling effect possible &ndash;&gt;-->
    <!--<h2 class="myH2">What is this ?</h2>-->
    <!--<p class="myP">This is a responsive fixed navbar animated on scroll</p>-->
    <!--<p class="myP">I took inspiration from  ABDO STEIF (<a href="https://codepen.io/abdosteif/pen/bRoyMb?editors=1100">https://codepen.io/abdosteif/pen/bRoyMb?editors=1100</a>)-->
        <!--and Dicson <a href="https://codepen.io/dicson/pen/waKPgQ">(https://codepen.io/dicson/pen/waKPgQ)</a></p>-->
    <!--<p class="myP">I HOPE YOU FIND THIS USEFULL</p>-->
    <!--<p class="myP">Albi</p>-->
    <!--<p class="myP">-->

        <!--Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsum ratione facere animi impedit rem labore sint repellendus ipsa sapiente voluptatem aut excepturi quo itaque, ab earum cumque. Voluptatem beatae id inventore quod voluptate qui deserunt, quis placeat, tempora ex totam, dolore sequi harum eos voluptatibus animi labore officiis minus laboriosam-->
        <!--Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsum ratione facere animi impedit rem labore sint repellendus ipsa sapiente voluptatem aut excepturi quo itaque, ab earum cumque. Voluptatem beatae id inventore quod voluptate qui deserunt, quis placeat, tempora ex totam, dolore sequi harum eos voluptatibus animi labore officiis minus laboriosam-->
        <!--Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsum ratione facere animi impedit rem labore sint repellendus ipsa sapiente voluptatem aut excepturi quo itaque, ab earum cumque. Voluptatem beatae id inventore quod voluptate qui deserunt, quis placeat, tempora ex totam, dolore sequi harum eos voluptatibus animi labore officiis minus laboriosam-->
        <!--Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsum ratione facere animi impedit rem labore sint repellendus ipsa sapiente voluptatem aut excepturi quo itaque, ab earum cumque. Voluptatem beatae id inventore quod voluptate qui deserunt, quis placeat, tempora ex totam, dolore sequi harum eos voluptatibus animi labore officiis minus laboriosam-->
        <!--Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsum ratione facere animi impedit rem labore sint repellendus ipsa sapiente voluptatem aut excepturi quo itaque, ab earum cumque. Voluptatem beatae id inventore quod voluptate qui deserunt, quis placeat, tempora ex totam, dolore sequi harum eos voluptatibus animi labore officiis minus laboriosam-->
    <!--</p>-->
<!--</div>-->



<div class="container-fluid" style="font-size:20px;">

    <!--<th:block th:each="house, stats : ${user.getHouses()}">-->
        <!--<th:block th:if="${!house.getImages().empty}">-->
        <!--<div id="carouselExampleIndicators" class="carousel slide carousel-fade" data-ride="carousel">-->
            <!--<ol class="carousel-indicators">-->
                <!--<th:block th:each="i: ${#numbers.sequence(0, stats.size)}">-->
                    <!--<li data-target="#carouselExampleIndicators" th:data-slide-to="${i}"-->
                        <!--th:class="${i == 0}  ? 'active':''"></li>-->
                <!--</th:block>-->
            <!--</ol>-->
            <!--<div class="carousel-inner">-->
                <!--<th:block th:each="image, stats1 : ${house.getImages()}">-->
                    <!--<div th:class="${stats1.index} == 0  ? 'carousel-item active':'carousel-item'">-->
                        <!--<img th:src="'data:image/jpeg;base64,' + ${imageService.getBase64(image.getData())}"-->
                             <!--class="d-block w-100"/>-->
                    <!--</div>-->
                <!--</th:block>-->
            <!--</div>-->
            <!--<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">-->
                <!--<span class="carousel-control-prev-icon" aria-hidden="true"></span>-->
                <!--<span class="sr-only">Previous</span>-->
            <!--</a>-->
            <!--<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">-->
                <!--<span class="carousel-control-next-icon" aria-hidden="true"></span>-->
                <!--<span class="sr-only">Next</span>-->
            <!--</a>-->
        <!--</div>-->
        <!--</th:block>-->
    <!--</th:block>-->


    <!--<th:block th:each="house, stats : ${user.getHouses()}">-->
        <!--<th:block th:each="image, stats : ${house.getImages()}">-->

            <!--<img th:src="'data:image/jpeg;base64,' + ${imageService.getBase64(image.getData())}"-->
                 <!--style="width: 25%; object-fit: cover; height: 20%; "/>-->
        <!--</th:block>-->
    <!--</th:block>-->


    <div class="container d-flex justify-content-center mt-50 mb-50">
        <div th:if="${user.getHouses().empty}">
            You have no investments added!
        </div>
        <div th:if="${!user.getHouses().empty}">
            <div class="row">
                <th:block th:each="house, stats : ${user.getHouses()}">
                    <th:block th:if="${!house.getImages().empty}">
                        <div class="col-md-6 mt-2">
                            <div class="card">
                                <div class="card-body">
                                    <div class="card-img-actions">
                                            <div id="carouselExampleIndicators1" class="carousel slide carousel-fade" data-ride="carousel">
                                                <ol class="carousel-indicators">
                                                    <th:block th:each="i: ${#numbers.sequence(0, stats.size)}">
                                                        <li data-target="#carouselExampleIndicators1" th:data-slide-to="${i}"
                                                            th:class="${i == 0}  ? 'active':''"></li>
                                                    </th:block>
                                                </ol>
                                                <div class="carousel-inner">
                                                    <th:block th:each="image, stats1 : ${house.getImages()}">
                                                        <div th:class="${stats1.index} == 0  ? 'carousel-item active':'carousel-item'">
                                                            <img th:src="'data:image/jpeg;base64,' + ${imageService.getBase64(image.getData())}"
                                                                 class="d-block w-100 card-img img-fluid"/>
                                                        </div>
                                                    </th:block>
                                                </div>
                                                <a class="carousel-control-prev" href="#carouselExampleIndicators1" role="button" data-slide="prev">
                                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                    <span class="sr-only">Previous</span>
                                                </a>
                                                <a class="carousel-control-next" href="#carouselExampleIndicators1" role="button" data-slide="next">
                                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                    <span class="sr-only">Next</span>
                                                </a>
                                            </div>

                                    </div>
                                </div>
                                <div class="card-body bg-light text-center">
                                    <div class="mb-2">
                                        <h5 class="card-title font-weight-semibold"
                                            th:utext="|${house.getAddress()}<br>${house.getState()}, ${house.getZipCode}|"></h5>

                                    </div>
                                    <h4 class="font-weight-semibold" th:text="|$${house.getPurchasePrice()}|"></h4>
                                    <a th:href="${/investment}" class="btn btn-primary"> Go to Investment</a>
                                </div>
                            </div>
                        </div>
                    </th:block>
                </th:block>

            </div>
        </div>
    </div>

</div>

</body>
</html>